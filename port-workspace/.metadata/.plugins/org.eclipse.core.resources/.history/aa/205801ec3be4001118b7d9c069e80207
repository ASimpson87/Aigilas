package com.aigilas.skills;import com.aigilas.entities.*;import com.aigilas.management.*;import com.spx.entities.*;import com.aigilas.creatures.*;import com.spx.core.*;
{
    public class SideEffects
    {
        protected ISkill _parent;

        protected int _animation;
        protected List<SkillEffect> _effectGraphics = new List<SkillEffect>();
        protected int _effectSprite = SpriteType.SKILL_EFFECT;
        protected float _effectStrength;
        protected bool _isPersistent = false;

        public SideEffects(int effectGraphic,int animation,ISkill parent)
        {
            _parent = parent;
            _effectStrength = parent.GetStrength();
            _effectSprite = effectGraphic;
            _animation = animation;
        }

        public void Generate(Point2 gridLocation,Point2 velocity,ICreature source)
        {
            var effect = new SkillEffect(gridLocation, velocity, source, _parent);
            _effectGraphics.Add(effect);
            EntityManager.AddObject(effect);
        }

        public SkillEffect GetFirstGraphic()
        {
            if(_effectGraphics.Count()>0)
                return _effectGraphics[0];
            return null;
        }

        public int GetSpriteType()
        {
            return _effectSprite;
        }

        public int GetAnimationType()
        {
            return _animation;
        }
    }    
}
